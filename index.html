<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prawo – quiz</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app">
    <header class="topbar">
      <h1 class="brand" id="brandTitle">Prawo – quiz</h1>
      <div class="meta">
        <span id="subjectPill" class="pill" title="Aktualny zestaw" style="display:none">–</span>
        <span id="poolInfo" class="pill" title="Ile pytań zostało w aktualnej puli" style="display:none">–</span>
        <button id="resetBtn" class="link" style="display:none">Resetuj pulę</button>
      </div>
    </header>

    <!-- SUBJECT SELECT -->
    <section id="selectView" class="card view">
      <h2>Wybierz zestaw pytań</h2>
      <div class="home-grid">
        <article class="card inner-card">
          <h3>Prawo samorządu terytorialnego</h3>
          <p class="muted">Quiz, wszystkie pytania oraz test 20 pytań.</p>
          <button id="choosePstBtn" class="btn primary">Prawo samorządu terytorialnego</button>
        </article>

        <article class="card inner-card">
          <h3>Prawo o postępowaniu przed sądami administracyjnymi</h3>
          <p class="muted">Quiz, wszystkie pytania oraz test 20 pytań.</p>
          <button id="choosePpsaBtn" class="btn primary">Prawo o postępowaniu przed sądami administracyjnymi</button>
        </article>
      </div>
    </section>

    <!-- HOME -->
    <section id="homeView" class="card view hidden">
      <div class="home-grid">
        <article class="card inner-card">
          <h2>Losuj pytanie</h2>
          <p class="muted">
            Losuje pytania z równym prawdopodobieństwem i nie powtarza ich, dopóki nie skończy się pula.
          </p>
          <button id="startBtn" class="btn primary">Losuj pytanie</button>
        </article>

        <article class="card inner-card">
          <h2>Wszystkie pytania</h2>
          <p class="muted">
            Pokazuje pełną listę pytań wraz z odpowiedziami. Poprawne odpowiedzi są wyróżnione na zielono.
          </p>
          <button id="allBtn" class="btn primary">Wszystkie pytania</button>
        </article>

        <article class="card inner-card">
          <h2>Test</h2>
          <p class="muted">
            Losuje 20 pytań. Na końcu zobaczysz wynik, procent oraz podsumowanie odpowiedzi.
          </p>
          <button id="testBtn" class="btn primary">Test</button>
        </article>

        <article class="card inner-card">
          <h2>Zmień zestaw</h2>
          <p class="muted">Wróć do wyboru przedmiotu.</p>
          <button id="changeSubjectBtn" class="btn">Wybór zestawu</button>
        </article>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quizView" class="card view hidden" aria-live="polite">
      <div class="qhead">
        <h2 id="questionText" class="question"></h2>
      </div>

      <div id="answers" class="answers" role="group" aria-label="Odpowiedzi"></div>

      <div class="actions">
        <button id="checkBtn" class="btn">Sprawdź</button>
        <button id="nextBtn" class="btn primary">Następne pytanie</button>
        <button id="quizHomeBtn" class="btn">Strona główna</button>
      </div>

      <p id="hint" class="hint muted"></p>
    </section>

    <!-- ALL QUESTIONS -->
    <section id="allView" class="card view hidden" aria-live="polite">
      <h2>Wszystkie pytania</h2>
      <p class="muted">Lista wszystkich pytań. Poprawne odpowiedzi są oznaczone na zielono.</p>

      <div class="actions">
        <button id="allHomeBtn" class="btn">Strona główna</button>
      </div>

      <div id="allList" class="all-list"></div>
    </section>

    <!-- TEST -->
    <section id="testView" class="card view hidden" aria-live="polite">
      <div class="qhead">
        <span id="testProgress" class="pill" title="Postęp testu">–</span>
        <h3 id="testQuestionText" class="question" style="margin-top:10px"></h3>
      </div>

      <div id="testAnswers" class="answers" role="group" aria-label="Odpowiedzi testowe"></div>

      <div class="actions">
        <button id="testPrevBtn" class="btn">Poprzednie pytanie</button>
        <button id="testNextBtn" class="btn primary">Następne pytanie</button>
        <button id="finishTestBtn" class="btn primary">Zakończ test</button>
        <button id="testHomeBtn" class="btn">Strona główna</button>
      </div>

      <p class="hint muted">W teście nie ma przycisku „Sprawdź”. Wynik zobaczysz po zakończeniu.</p>
    </section>

    <!-- TEST RESULTS -->
    <section id="resultsView" class="card view hidden" aria-live="polite">
      <h2>Wynik testu</h2>
      <p id="resultsSummary" class="muted"></p>

      <div class="actions">
        <button id="resultsHomeBtn" class="btn">Strona główna</button>
        <button id="restartTestBtn" class="btn primary">Nowy test</button>
      </div>

      <div id="resultsList" class="all-list"></div>
    </section>

  </main>

  <script type="module" src="app.js"></script>
</body>
</html>
